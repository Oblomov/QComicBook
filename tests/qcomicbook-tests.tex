\documentclass[12pt]{article}
\title{\textbf{QComicBook}\\\textbf{Test Cases}\\for QComicBook 0.4.0}
\author{Pawel Stolowski}

\newcommand{\scenarioid}[1]{{\bf Scenario ID:} {\bf #1}}
\newcommand{\synopsis}[1]{{\bf Synopsis:} #1}
\newcommand{\prereq}[1]{{\bf Prerequisites:} #1}
\newcommand{\importance}[1]{{\bf Importance:} #1}
\newcommand{\test}[1]{{\bf Test:} #1}
\newcommand{\menuaction}[1]{\textsf{#1}}

\newcounter{testcnt}
\newcommand{\testsection}[2]{\subsection{#1} \setcounter{testcnt}{1}
\def\testname{#2}
\setcounter{testcnt}{1}
}

\newenvironment{testcase}[3]{\par\noindent\scenarioid{\testname--\arabic{testcnt} }\\ \synopsis{#1}\\
\prereq{#2}\\ \importance{#3}
\par

\noindent
{\bf Description:}
} {
\\
\stepcounter{testcnt}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle


\section{Introduction}

This document describes test cases used to verify correct functioning of QComicBook software. Test scenarios
listed in section \ref{scenarios} are based on several test archives distributed as a~part of this test suite
and should be contained in qcomicbook source archive. Before proceeding, make sure that:
\begin{itemize}
\item this document targets QComicBook release being tested
\item md5 checksums of test archives match the checksums listed below:
\end{itemize}

\section{Test Cases}

\subsection{Installation}

TODO

\testsection{Archivers support}{ARCH}
\label{scenarios}

\begin{testcase}{Verify unsupported archivers}{remove rar, unrar, unzip}{L}
Verify rar, zip, cbr archives cannot be selected in File Open dialog. Verify ``System information'' menu
indicates these archives are not supported for reading. Verify that drag'n'drop for unsupported archive
results in proper error message being displayed. Verify same error message is displayed when attempting to
open such archive via command-line argument to qcomicbook command.
\end{testcase}

\begin{testcase}{Verify RAR archive support}{install rar, uninstall unrar}{M}
Verify test\_1.cbr file can be opened. Verify there is no leftover content in \verb+/tmp/qcomic-*+ area after
comicbook is closed.
\end{testcase}

\begin{testcase}{Verify RAR archive support}{install unrar, uninstall rar}{M}
Verify test\_1.cbr file can be opened. Verify there is no leftover content in \verb+/tmp/qcomic-*+ area after
comicbook is closed.
\end{testcase}

\begin{testcase}{Verify ZIP archive support}{install unzip}{M}
Verify test\_2.zip file can be opened. Verify test\_3.cbr file can be opened.
Verify there is no leftover content in \verb+/tmp/qcomic-*+ area after comicbook is closed.
\end{testcase}

\begin{testcase}{Verify ZIP archive support}{install unzip}{M}
Repeat previous test.
\end{testcase}

\begin{testcase}{Verify tar.gz / tar.bz2 archive support}{}{M}
\end{testcase}

\begin{testcase}{Verify 7z archive support}{}{M}
\end{testcase}

\begin{testcase}{Verify ace archive support}{}{M}
\end{testcase}

\begin{testcase}{Verify image directories support}{test\_1.cbr}{L}
Manually unpack test\_1.cbr archive. Open resulting directory with "Open directory" option. Verify images are displayed.
\end{testcase}

\testsection{Display}{DISP}

\begin{testcase}{Test Statusbar}{test\_1.cbr}{L}
Open test\_1.cbr file. Verify the number of pages displayed in statusbar is 12. Verify statusbar correctly indicates current page (e.g. 1/12).
\end{testcase}

\begin{testcase}{Test Info window}{test\_1.cbr, test\_2.zip}{M}
Verify "Info" button is disabled if no comicbook is opened. Open test\_1.cbr file. Verify "Info" button is now available. Click "Info" button. Verify
"QComicBook info" window is opened and file\_id.diz and test\_1.nfo files are displayed in separate tabs. Verify this window can be closed with "Close" button.
Open test\_2.zip file. Verify "Info" button is now disabled.
\end{testcase}

\begin{testcase}{Verify pages order}{test\_1.cbr}{H}
Verify page order is correct for test\_1.cbr archive -- correct order is: cover, page 1, page 2, .. , page 10, page 11.
\end{testcase}

\begin{testcase}{Test Context menu}{}{}
\end{testcase}

\begin{testcase}{Test page scaling}{}{}
\end{testcase}

\begin{testcase}{Test mouse navigation}{}{}
\end{testcase}

\testsection{Toolbar}{TBAR}

\testsection{Menus}{MENU}

\testsection{Bookmarks}{BMRK}

\begin{testcase}{Test basic Bookmarks functionality}{test\_1.cbr, test\_2.zip}{H}
Open test\_1.cbr. Navigate to page 2. Click \menuaction{Bookmarks / Set bookmark for this comicbook}. Verify
bookmark for this comicbook and page was added to \menuaction{Bookmarks} menu. Navigate to page 3 and add
bookmark again; verify the bookmark for this page was updated and points to page 3. Open test\_2.zip.
Click the bookmark selected in previous step and verify that current comicbook is being closed and 
test\_1.cbr is opened again on page 3. Restart QComicBook. Verify \menuaction{Bookmarks} menu contains the
bookmark created in previous steps.
\end{testcase}

\begin{testcase}{Test Bookmarks Manager}{test\_1.cbr, test\_2.zip}{M}
\end{testcase}

\end{document}
